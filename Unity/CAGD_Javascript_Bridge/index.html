<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | CAGD</title>

		<!-- Global site tag (gtag.js) - Google Analytics -->
		<script async src="https://www.googletagmanager.com/gtag/js?id=G-TMLW0CRYVP"></script>
		<script>
			window.dataLayer = window.dataLayer || [];
			function gtag(){dataLayer.push(arguments);}
			gtag('js', new Date());
		
			gtag('config', 'G-TMLW0CRYVP');
		</script>
  </head>
  <body style="text-align: center">
    <canvas id="unity-canvas" width=960 height=600 style="width: 960px; height: 600px; background: #231F20"></canvas>
		<br />
		<input type="color" id="colorInput" oninput="CAGDJavascriptBridge.changeSurfaceColor(this.value);" value="#ff0000" />
    <script src="Build/CAGD_Javascript_Bridge.loader.js"></script>
    <script>
			var CAGDJavascriptBridge = {};
			CAGDJavascriptBridge.notifySurfaceColor = function(color) {
				document.getElementById("colorInput").value = "#" + color;
			};
			CAGDJavascriptBridge.changeSurfaceColor = function(color) {
				if (CAGDJavascriptBridge.unityView) {
					CAGDJavascriptBridge.unityView.SendMessage("WebBridge", "ChangeSurfaceColors", color);
				}
			};
			createUnityInstance(document.querySelector("#unity-canvas"), {
				dataUrl: "Build/CAGD_Javascript_Bridge.data.unityweb",
				frameworkUrl: "Build/CAGD_Javascript_Bridge.framework.js.unityweb",
				codeUrl: "Build/CAGD_Javascript_Bridge.wasm.unityweb",
				streamingAssetsUrl: "StreamingAssets",
				companyName: "Progress",
				productName: "CAGD",
				productVersion: "0.1",
				// matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
				// devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
			}).then((unityInstance) => { CAGDJavascriptBridge.unityView = unityInstance; });
    </script>
  </body>
</html>
